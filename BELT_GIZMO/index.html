<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Belt Gizmo - GPStar Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Belt Gizmo";
        var mkdocs_page_input_path = "BELT_GIZMO.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../images/gpstar_logo_white.png" class="logo" alt="Logo"/>
        </a>
        <div class="version">
          6.x
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ABOUT/">About</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Core Components</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../GUIDE_LISTING/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PACK_2_PCB/">Proton Pack II</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WAND_2_PCB/">Neutrona Wand II</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PACK_PCB/">Proton Pack</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WAND_PCB/">Neutrona Wand</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GPSTAR_AUDIO_PCB/">GPStar Audio</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../HOSE/">Pack-Wand Hose</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Optional Components</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Proton Pack</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../CYCLOTRON_LID/">Cyclotron Lid</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../CYCLOTRON_INNER/">Inner Cyclotron</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../CYCLOTRON_BYPASS/">Cyclotron Bypass</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../NFILTER/">N-Filter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../POWERCELL/">Power Cell</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Neutrona Wand</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../BARGRAPH/">Bargraph</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../HATS/">Hatlights</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../VENTLIGHT/">Vent Lights</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Pack Attenuator</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../ATTENUATOR/">Attenuator</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../WIRELESS/">WiFi Adapter</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Special Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../POWER/">Power Requirements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SOUND/">Sound Output</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SMOKE/">Smoke Kits</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DIY_LEGACY/">Legacy DIY</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Install Videos</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../INSTALL_VIDEOS_JONOGUNN/">Jonogunn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../INSTALL_VIDEOS_NORCALGB/">Nor-Cal GB</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Maintenance</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../FLASHING/">Flashing Pack/Wand Firmware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ATTENUATOR_FLASHING/">Flashing Attenuator/WiFi</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../AUDIO_FILES/">Audio Files</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Operation Manuals</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../OPERATION_USAGE/">General Usage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OPERATION_MENUS/">Runtime Menus</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OPERATION_EEPROM/">EEPROM Menus</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WIRELESS_OPERATION/">WiFi Operation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">From the Engineer Corps</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../SINGLESHOT/">Single-Shot Blaster</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Belt Gizmo</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#external-shell">External Shell</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bill-of-materials">Bill of Materials</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#esp32-pin-connections">ESP32 - Pin Connections</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#power-pin-connections">Power - Pin Connections</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#assembly">Assembly</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#firmware-flashing">Firmware Flashing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#operation">Operation</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../STREAM_EFFECTS/">Stream Effects</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Help</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../TROUBLESHOOTING/">Troubleshooting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../FAQ/">General FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../FAQ_GPStar2/">GPStar II FAQ</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">GPStar Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">From the Engineer Corps</li>
      <li class="breadcrumb-item active">Belt Gizmo</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="belt-gizmo">Belt Gizmo</h1>
<p>While the original "gizmo" was never given an on-screen purpose it has endured as a standard piece of kit for any uniform. This guide shows how to an interactive light show to any such device produced by the community, with some light modifications.</p>
<p>This depends on the presence of an Attenuator or WiFi Adapter in order to provide a wireless integration with your equipment.</p>
<p>Watch this demonstration of the Belt Gizmo and Stream Effects devices:</p>
<video src="../videos/effects_demo.webm" controls width="480">
  Your browser does not support the video tag.
</video>

<h2 id="external-shell">External Shell</h2>
<p>Many models of this device exist in the wild and you can pick any that you prefer as your base. Or if you have an existing Belt Gizmo you may be able to modify it to incorporate the new electronics.</p>
<ul>
<li><a href="https://makerworld.com/en/models/1481024-ghostbusters-belt-gizmo-customisable-readout#profileId-1546412">Belt Gizmo by Dave W</a></li>
<li><a href="https://cults3d.com/en/3d-model/gadget/ghostbusters-belt-gizmo?srsltid=AfmBOoodHZSokoh6WtUnP8dFB2FAfHBY5bJPWOEOunehdjz8OXQWtP-q">Belt Gizmo by MRKIOU</a></li>
<li><a href="https://www.tinkercad.com/things/hXboxGGXGLa-belt-gizmo-back?sharecode=ha-4RQ-0age-2QNgxU-ZpJ5jofNhaNWqsaZMZCeECbs">Belt Gizmo Back by Dustin Grau</a></li>
</ul>
<h2 id="bill-of-materials">Bill of Materials</h2>
<p>Assembly of this device WILL require SOLDERING skills and is considered a DIY approach at this time. The exact list of parts below were chosen for their availability from common sources and/or available support across the Internet.</p>
<ul>
<li><a href="https://a.co/d/ia74QSm">Addressable 5V WS2812B Fairy String Lights</a></li>
<li><a href="https://a.co/d/0TzJcFc">Waveshare ESP32-S3-Zero Mini Dev Board</a></li>
<li><a href="https://a.co/d/9K8KTmT">USB-C 5V Boost Converter and Lithium Battery Charger</a></li>
<li><a href="https://a.co/d/cKEqCLi">2500mAh 3.7V Lithium Polymer Battery Pack</a></li>
<li><a href="https://a.co/d/08XEYrL">SPDT 2-Position Micro Slide Switch</a></li>
<li><a href="https://a.co/d/7ySDNmg">SPST Momentary Push Button Switch</a></li>
<li><a href="https://a.co/d/8uN87y4">28AWG Stranded Silicone Hookup Wire</a></li>
<li><a href="https://a.co/d/j5Otzhq">270 ohm Resisitor</a></li>
</ul>
<h2 id="esp32-pin-connections">ESP32 - Pin Connections</h2>
<p><img alt="" src="../images/ESP32-S3-Zero.jpg" /></p>
<p>The following is a diagram of the <strong>ESP32-S3-Zero pins</strong> from left and right, when oriented with the USB connection facing up (north) like the pinout diagram above-top. We only need a single</p>
<table>
<thead>
<tr>
<th>Connection</th>
<th>ESP32 (L)</th>
<th></th>
<th>ESP32 (R)</th>
<th>Connection</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td><strong>USB</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>to 5V-OUT +</td>
<td>5V</td>
<td></td>
<td>TX</td>
<td></td>
</tr>
<tr>
<td>to 5V-OUT -</td>
<td>GND</td>
<td></td>
<td>RX</td>
<td></td>
</tr>
<tr>
<td></td>
<td>3V3(OUT)</td>
<td></td>
<td>GP13</td>
<td></td>
</tr>
<tr>
<td></td>
<td>GP1</td>
<td></td>
<td>GP12</td>
<td></td>
</tr>
<tr>
<td></td>
<td>GP2</td>
<td></td>
<td>GP11</td>
<td></td>
</tr>
<tr>
<td></td>
<td>GP2</td>
<td></td>
<td>GP10</td>
<td></td>
</tr>
<tr>
<td>to LEDs</td>
<td>GP4</td>
<td></td>
<td>GP9</td>
<td></td>
</tr>
<tr>
<td></td>
<td>GP5</td>
<td></td>
<td>GP8</td>
<td></td>
</tr>
<tr>
<td></td>
<td>GP6</td>
<td></td>
<td>GP7</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="power-pin-connections">Power - Pin Connections</h2>
<p>We need to both power the device but also allow for the battery pack to be charged without removing it from the Belt Gizmo every time. This approach uses a slide switch to cut power to the ESP32 and allows for faster charging without simultaneously draining the battery. We also make use of the Key switch to turn the power on or off. A single press will turn on the boost chip while two quick presses will turn it off.</p>
<p>For the battery you have 2 options: use a JST socket to connect your battery or cut off the existing plug. The latter may be quicker if you are comfortable with re-soldering a new battery in the future should the current one no longer hold a charge. Carefully cut off the plug from the LiPo battery pack, cutting each wire <strong>1 AT TIME</strong> to avoid a short-circuit.</p>
<p>You will connect battery leads to the through-hole connections opposite the battery: positive (red) to + and negative (black) to - as expected.</p>
<p>From the 5V through-hole ports you are best to solder a single wire to each due to the diameter of the holes. Use red for the + connection and - for negative, using 2-3" of wire for each. We will use these as a pigtail connection to connect our devices which need 5V power:</p>
<ul>
<li>5V + Connects to LED positive and ESP32 5V via SPDT Slide Switch</li>
<li>5V - Connects to LED negative and ESP32 GND</li>
</ul>
<p>The hole labelled K connects to one side of the SPST Momentary Switch, the other side to the 5V - wire used above.</p>
<p>Note: You will not need the USB2 connector supplied with this device.</p>
<p><img alt="" src="../images/USB_Boost_Charge.jpg" /></p>
<h2 id="assembly">Assembly</h2>
<p><img alt="" src="../images/gizmo_front.jpg" /></p>
<p>The LEDs chosen for this project are the same which may be used with the Proton Pack when adding the sparking effect to your inner cyclotron cake. Essentially this used a spare segment of 8 addressable LEDs which fit within the 7 nixie tubes and the E block. Note that the 270 ohm resistor will be used on the data line which connects to pin GP4 of the ESP32.</p>
<p><img alt="" src="../images/gizmo_back.jpg" /></p>
<p>The STL file <code>stl/misc/belt_gizmo_back.stl</code> is available in this project as a holder for the electronics and is highly recommended to keep things clean and compact. This <em>should</em> work with most Belt Gizmo designs, though it was created specifically for the MRKIOU (Q) design linked above.</p>
<p><img alt="" src="../images/gizmo_tubes.jpg" /></p>
<p>The excess wiring for each LED can be carefully folded over and secured behind each light in the nixie tubes. The sequence of lights begins with the E block and moves left from there.</p>
<p><img alt="" src="../images/gizmo_wires.jpg" /></p>
<p>Lengths of the silicone wiring can be used to provide more visual interest to the base of each nixie tube and terminate on the backside of the gizmo itself. You can see the ends of the wires secured with hot glue in the next photo.</p>
<p><img alt="" src="../images/gizmo_assembled.jpg" /></p>
<p>Not shown here is the mini slide switch which severs power to the ESP32 so that the device can be charged without simultaneously discharging.</p>
<h2 id="firmware-flashing">Firmware Flashing</h2>
<p>For the initial flashing of the firmware you can use a 3rd-party website to upload using the Web Serial protocol which is only available on the Google Chrome, Microsoft Edge, and Opera desktop web browsers. Mobile browsers are NOT supported, and you will be prompted with a message if your web browser is not valid for use.</p>
<ol>
<li>
<p>Plug your device into a USB port on your computer and go to <a href="http://espwebtool.ghostbusters.engineering">http://espwebtool.ghostbusters.engineering</a> (which <a href="https://esp.huhn.me">redirects to https://esp.huhn.me</a>).</p>
</li>
<li>
<p>Locate the following files from the <code>/binaries/gizmo</code> directory.</p>
<ul>
<li><a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/extras/BeltGizmo-Bootloader.bin?raw=1">extras/BeltGizmo-Bootloader.bin</a> = This is the standard bootloader for the ESP32 itself.</li>
<li><a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/extras/BeltGizmo-Partitions.bin?raw=1">extras/BeltGizmo-Partitions.bin</a> = This specifies the partition scheme for the flash memory.</li>
<li><a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/extras/boot_app0.bin?raw=1">extras/boot_app0.bin</a> = This is the software for selecting the available/next OTA partition.</li>
<li><a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/BeltGizmo.bin?raw=1">BeltGizmo.bin</a> = This is the custom firmware for the GPStar kit.</li>
</ul>
</li>
<li>
<p>Click on the <strong>CONNECT</strong> button and select your USB serial device from the list of options and click on "Connect".</p>
</li>
<li>
<p>Once connected, select the files (noted above) for the following address spaces:</p>
<ul>
<li><code>0x0000</code> &rarr; <a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/extras/BeltGizmo-Bootloader.bin?raw=1">BeltGizmo-Bootloader.bin</a></li>
<li><code>0x8000</code> &rarr; <a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/extras/BeltGizmo-Partitions.bin?raw=1">BeltGizmo-Partitions.bin</a></li>
<li><code>0xE000</code> &rarr; <a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/extras/boot_app0.bin?raw=1">boot_app0.bin</a></li>
<li>
<p><code>0x10000</code> &rarr; <a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/binaries/gizmo/BeltGizmo.bin?raw=1">BeltGizmo.bin</a></p>
</li>
<li>
<p><strong>Note:</strong> The address for the bootloader on ESP32-S3 chips is <code>0x0000</code> <a href="https://docs.mcuboot.com/readme-espressif.html">as per this documentation</a> and is called out as it may differ from other flashing instructions seen within the GPStar guides. Rest assured this value change is intentional.</p>
</li>
</ul>
</li>
<li>
<p>Click on the <strong>PROGRAM</strong> button to begin flashing. View the "Output" window to view progress of the flashing operation.</p>
</li>
<li>
<p>Once the device has completely flashed (100%) unplug the USB cable and remove any remaining power source from the device. Restore power to reboot the device and confirm operation.</p>
</li>
</ol>
<p>Once the device is flashed successfully via USB you can use the WiFi and web UI to perform future flashes using over-the-air (OTA) updates.</p>
<h2 id="operation">Operation</h2>
<p>Look for a WiFi network of "BeltGizmo_0000" or similar and connect using the password <code>555-2368</code>. Open a web browser to the same name as the network name, for instance <code>http://beltgizmo_0000.local</code>.</p>
<p><strong>Security Notice</strong></p>
<p>This device uses a default password of <code>555-2368</code> and should be changed immediately. You also have the option of changing the SSID broadcast if desired.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../SINGLESHOT/" class="btn btn-neutral float-left" title="Single-Shot Blaster"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../STREAM_EFFECTS/" class="btn btn-neutral float-right" title="Stream Effects">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>GPStar Technologies</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../SINGLESHOT/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../STREAM_EFFECTS/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
