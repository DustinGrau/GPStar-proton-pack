
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Wireless Operation - GPStar Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wireless-operation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="GPStar Documentation" class="md-header__button md-logo" aria-label="GPStar Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GPStar Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Wireless Operation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GPStar Documentation" class="md-nav__button md-logo" aria-label="GPStar Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    GPStar Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../GUIDE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../FAQ/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ABOUT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wifi-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      WiFi Limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wifi-debug-mode" class="md-nav__link">
    <span class="md-ellipsis">
      WiFi Debug Mode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#firmware-flashing" class="md-nav__link">
    <span class="md-ellipsis">
      Firmware Flashing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware-synchronization" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware Synchronization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Web Interface
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tab-1-equipment-status" class="md-nav__link">
    <span class="md-ellipsis">
      Tab 1: Equipment Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tab-2-audio-controls" class="md-nav__link">
    <span class="md-ellipsis">
      Tab 2: Audio Controls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tab-3-pack-controls" class="md-nav__link">
    <span class="md-ellipsis">
      Tab 3: Pack Controls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tab-4-preferences-administration" class="md-nav__link">
    <span class="md-ellipsis">
      Tab 4: Preferences / Administration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attenuator-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Attenuator Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pack-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Pack Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wand-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Wand Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overheatsmoke-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Overheat/Smoke Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#external-wifi-settings" class="md-nav__link">
    <span class="md-ellipsis">
      External WiFi Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-api" class="md-nav__link">
    <span class="md-ellipsis">
      Web API
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="wireless-operation">Wireless Operation</h1>
<p>This guide will cover the web interface available via an ESP32 chip used as either the <strong>Attenuator</strong> or <strong>Wireless Adapter</strong> devices, and is capable of controlling some operations of your Proton Pack and Neutrona Wand.</p>
<h2 id="requirements">Requirements</h2>
<p>Before proceeding, it is worth noting that the ESP32 device is only capable of operating on the 2.4GHz band for WiFi communications. While it does support the 801.11b/g/n networking standards, any computer/phone/tablet which connects to this device via external WiFi network, or will be connected via the private WiFi network on this device as a client, must support the 2.4GHz band. For secured networks, only the WPA2 standard is allowed (joining an open networks is not supported nor advised).</p>
<p>Connectivity options include either a private WiFi network from the device, and the ability to join an external WiFi network. For the latter this may be your home network or a cellular hotspot, though this is subject to some factors which are environmental or vendor-specific.</p>
<h2 id="wifi-limitations">WiFi Limitations</h2>
<p>It should be clearly stated that the ESP32 is a low-power consumer device and will not have the same range and features as a true wireless access point. When used at home or a controlled environment it should respond in a satisfactory manner. Though when used in a crowded (read: convention) environment the signal may become lost or overwhelmed by competing RF devices. When possible, configure the device to connect to a stronger, stable wireless network as a client rather than relying on the built-in access point as this may improve the range and performance of the web-based interface.</p>
<ul>
<li>For <strong>Android</strong> devices offering a cellular hotspot, these devices may utilize a feature called "Client Isolation Mode" which will prevent hotspot clients from seeing each other. Unless you can disable this option (via a rooted device) you will not be able to reach the web UI via the hotspot network.</li>
<li>For <strong>iOS</strong> devices offering a cellular hotspot, please make sure that the "Maximize Compatibility" option is enabled. This will ensure your device offers the 2.4GHz radio and will be seen by the ESP32 device.</li>
</ul>
<h2 id="wifi-debug-mode">WiFi Debug Mode</h2>
<p>If you have forgotten the password to your device's private WiFi network, you can load the special <code>Attenuator-ESP32-Reset.bin</code> firmware by following the <a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/ATTENUATOR_FLASHING.md#forgot-your-wifi-password">"Forgot Your WiFi Password" section of the ATTENUATOR_FLASHING guide</a>.</p>
<p>As of the 5.2.2 firmware release a special debug option is available when using the hardware as an Attenuator, or if a momentary switch is installed between pin D4 and GND on the ESP32 controller. While powering on the device, push down on the main dial on the Attenuator (or press the momentary switch), and the device will bypass any stored password for local WiFi. This will bypass setting of a password for the built-in WiFi network, allowing the "ProtonPack_" network to run without WPA2 security. This should <strong>only be done as a last resort</strong> to regain access to the device if the password is forgotten or another technical issue may be preventing access!</p>
<h2 id="firmware-flashing">Firmware Flashing</h2>
<p>Please see the <a href="../ATTENUATOR_FLASHING/">ATTENUATOR_FLASHING</a> guide for details on compiling and/or uploading software to your Wireless Adapter controller.</p>
<h2 id="hardware-synchronization">Hardware Synchronization</h2>
<p>In order to view the state of the pack and control it remotely, the Proton Pack and ESP32 devices must be physically connected and have been sychnronized via the built-in software. On the ESP32 are 2 on-board LEDs which will show the current status:</p>
<ul>
<li>The onboard red LED indicates the device is powered and should be accessible via the private WiFi network.</li>
<li>A second onboard LED will be lit blue to indicate when the device has successfully synchronized with the Proton Pack.</li>
</ul>
<p>Additionally, when using the device as an Attenuator, the topmost LED on that device will be lit as purple until pack synchronization has completed. If using the "standalone" firmware the top LED will remain lit as red.</p>
<h2 id="web-interface">Web Interface</h2>
<p>When using the ESP32 controller for either the Attenuator or Wireless Adapter, it will offer a default, private WiFi network (access point) which begins with the pattern <strong>"ProtonPack_NNNN"</strong> where the NNNN is unique to each ESP32's WiFi network interface, and this will be secured with a default password of <strong>"555-2368"</strong>.</p>
<p>Once connected, your computer/phone/table should be assigned an IP address starting from <strong>"192.168.1.100"</strong> with a subnet of <strong>"255.255.255.0"</strong>. Please remember that if you intend to have multiple Attenuator/Wireless devices connect via this private WiFi network you will be assigned a unique IP address for each client device (eg. phone, tablet, or computer).</p>
<p>A web-based user interface is available at <a href="http://192.168.1.2">http://192.168.1.2</a> to view the state of your Proton Pack and Neutrona Wand, and to manage specific actions. The available sections are described below.</p>
<p><strong>Note:</strong> As of the latest 5.3.x release a new mDNS feature allows the device to respond to a localized name regardless of the WiFi network. In your browser simply navigate to <code>http://&lt;SSID&gt;.local</code> where the "SSID" is the same name as the private access point. This SSID is now user-customizable using the "Attenuator Settings" page shown below.</p>
<h3 id="tab-1-equipment-status">Tab 1: Equipment Status</h3>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Main1.jpg"/></p>
<p>The equipment status will reflect the current state of your Proton Pack and Neutrona Wand and will update in real-time as you interact with those devices. This information is available as either a text-based or graphical display, or both if you prefer (set via Attenuator Preferences).</p>
<p>When using the graphical display, most components of the Proton pack and Neutrona Wand are represented by color-coded overlays on the component will may be affected by runtime actions:</p>
<ul>
<li>The top of the display will indicate the mode (Standard = Mode Original, Upgraded = Super Hero) along with the year theme (V1.9.8x or V2.0.2x).</li>
<li>When the Ion Arm switch is engaged for Mode Original, the overlay for the Ion Arm will be green to indicate a ready state. When in Super Hero mode this overlay will be green when the Proton Pack is powered on.</li>
<li>When the Proton Pack is powered on:<ul>
<li>The Powercell, Booster Tube, and Cyclotron overlays will be green as their default state.</li>
<li>When the Cyclotron is in a normal state the overlay will be green. It will change to yellow then red as it goes through the pre-warning and overheat states. During venting the overlay will be blue to indicate the recovery period.</li>
<li>The color state of the Booster Tube is linked to the "Output" text value which is the voltage measured at the Proton Pack PCB (in volts, but displayed as Gev). During high power draw events such as smoke generation the voltage can drop briefly, and will be reflected as a red overlay when that value is below 4.2V</li>
</ul>
</li>
<li>When the Neutrona Wand is powered on, the overlay above the Activate/Intensify portion of the gun box will indicate if the barrel is retracted (red) or extended (green).</li>
<li>The current power level for the Neutrona Wand will be indicated by the "L-#" beside the barrel.</li>
<li>The type of firing mode will be displayed below the Neutrona Wand and will be color coded via the barrel. Color intensity increases with the power level.<ul>
<li>Proton Stream: Red (includes Spectral modes)</li>
<li>Plasm System: Green (incl. for 1989 theme)</li>
<li>Dark Matter Gen.: Blue</li>
<li>Particle System: Orange</li>
<li>Settings: Gray</li>
</ul>
</li>
<li>When using the power-detection feature with a stock Haslab Neutrona Wand the default stream will be Proton with a power level of 5. Instead of the stream type being displayed, there will be a wattage value displayed as Gigawatts (GW).</li>
<li>If the Ribbon Cable is removed, a warning icon will appear over that component to indicate an alarm state.</li>
<li>When the Cyclotron lid is removed a radiation exposure warning will be displayed at the bottom of the CRT display.</li>
</ul>
<p><strong>Note:</strong> When using the text-based display, if you see a "&mdash;" (dash) beside the labels it can indicate a potential communication issue. Simply refresh the page and/or check your WiFi connection to the device. In rare cases you may need to do a reboot of the ESP32 device via the admin tab.</p>
<p>Special thanks and credit to fellow cosplayer <a href="https://www.etsy.com/shop/BeaulieuDesigns87">Alexander Hibbs (@BeaulieuDesigns87)</a> from the <a href="https://www.facebook.com/SCGhostbusters/">South Carolina Ghostbusters</a>, who created the amazingly detailed Proton Pack and Neutrona Wand technical illustration, available as a <a href="https://www.etsy.com/listing/1406461576/proton-pack-blueprint-matte-poster">printed poster</a> or <a href="https://www.etsy.com/listing/1411559802/proton-pack-blueprint-digital-download">digital image</a>. He has graciously provided a version of his design to make the new graphical interface.</p>
<div style="clear:both"></div>

<h3 id="tab-2-audio-controls">Tab 2: Audio Controls</h3>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Main2.jpg"/></p>
<p>This section allows full control of the system (overall) volume, effects volume, and music volume along with the ability to mute/unmute all devices. The current volume levels will be shown and updated in real-time whether adjusted via the web UI, the pack, or the wand.</p>
<p>For playback of music you can use the improved navigation controls:</p>
<table>
<thead>
<tr>
<th>Indicator</th>
<th>Track Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#9664;&#9664;</td>
<td>Previous</td>
</tr>
<tr>
<td>&#9634;&nbsp;&#9654;</td>
<td>Start/Stop</td>
</tr>
<tr>
<td>&#9646;&#9646;&nbsp;&#9654;</td>
<td>Pause/Resume</td>
</tr>
<tr>
<td>&#9654;&#9654;</td>
<td>Next/Skip</td>
</tr>
</tbody>
</table>
<div style="clear:both"></div>

<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-SongSelect.jpg"/></p>
<p>You may also jump directly to a specific track for playback via the selection field (switching immediately if already playing, otherwise that track will be started via the Start/Stop button).</p>
<p>By default, only the track numbers are known to the audio device as all music tracks must begin at value "500" per the naming convention used by the GPStar controller software. However, as of the 5.x release it is possible to add a track listing to the ESP32 device's memory so that user-friendly song names can be displayed. See the Attenuator Settings described below for more information.</p>
<div style="clear:both"></div>

<h3 id="tab-3-pack-controls">Tab 3: Pack Controls</h3>
<p>Controls will be made available on a per-action or per-state basis.</p>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Main3.jpg"/></p>
<p>Shown here, the pack and wand are both in an Idle state while in the "Super Hero" operation mode which allows the pack to be turned on/off remotely. The options to remotely vent or to "Attenuate" are only enabled when the devices are in a specific state.</p>
<p><strong>Vent:</strong> This can only be triggered remotely when in the "Super Hero" mode and while the Pack State is "Powered".</p>
<p><strong>Attenuate:</strong> When firing, the Cyclotron State must be either "Warning" or "Critical" to enable this button.</p>
<div style="clear:both"></div>

<h3 id="tab-4-preferences-administration">Tab 4: Preferences / Administration</h3>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Main4.jpg"/></p>
<p>These provide a web interface for managing options which are accessed via the LED or Config EEPROM menus. The settings are divided into 3 sections: Pack, Wand, and Smoke. The features available via these sections will be covered in-depth later in this document.</p>
<p>These links allow you to change or control aspects of the available devices in lieu of the EEPROM menu.</p>
<ul>
<li><strong>Update ESP32 Firmware</strong> - Allows you to update the ESP32 firmware using Over-the-Air updates. See the <a href="../ATTENUATOR_FLASHING/">ATTENUATOR_FLASHING</a> guide for details</li>
<li><strong>Secure Device WiFi</strong>- Allows changing of the default password for the private WiFi network</li>
<li><strong>Change WiFi Settings</strong> - Provides an optional means of joining an existing, external WiFi network for access of your device</li>
<li><strong>Restart/Resync</strong> - Allows a remote restart of the software by performing a reboot ONLY of the ESP32 device</li>
</ul>
<p>At the bottom of the screen is a timestamp representing the date of the software build for the ESP32 firmware, along with the name of the private WiFi network offered by the current device. If connected to an external WiFi network the current IP address and subnet mask will be displayed.</p>
<div style="clear:both"></div>

<h2 id="attenuator-settings">Attenuator Settings</h2>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Attenuator.jpg"/></p>
<p>Set options related specifically to the Attenuator, such as when the vibration motor or buzzer may be used to provide physical feedback during operation.</p>
<p><strong>Note:</strong> If you installed the Frutto Technology electronics into your DIY or GPStar Attenuator shell and found that the top and lower LEDs are displaying the wrong colors, you can use the "Invert" option to put the 3 lights into the correct order.</p>
<div style="clear:both"></div>

<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-SongList.jpg"/></p>
<p><strong>NEW in 5.x</strong> - The ability to add a user-friendly track listing has been integrated into the UI. Song titles may be entered as 1 entry per line, in the order by which they are numbered on your microSD card. The text is limited by bytes (max 2,000) not the number of lines, so to fit more entries into this text box you may need to use shorter song titles. This list of songs will be matched to each track number (starting from "500_" per the required numbering scheme). This data is stored only within the ESP32 device and is only visible/used by the track selection field in the Music Navigation area.</p>
<div style="clear:both"></div>

<h2 id="pack-settings">Pack Settings</h2>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Pack.jpg"/></p>
<p>Set options related specifically to the Proton Pack. Options such as the color/saturation sliders will only take effect if you have installed the Frutto Technology powercell and cyclotron lid light kits. Similarly, the Video Game mode option will have no effect on the stock Haslab LEDs.</p>
<p><strong>Reminder:</strong> The ability to update settings or save to EEPROM will be disabled so long as the pack and wand are running. Turn off all physical toggles to set these devices to an idle state before adjusting settings. Refresh the page to get the latest values for preferences.</p>
<p>üìù <strong>Note:</strong> When changing options such as the count of LEDs in use for a device, or some options such as the Operation Mode, a full power-cycle of the equipment is required after saving to EEPROM.</p>
<p>‚ö†Ô∏è <strong>NOTICE:</strong> The EEPROM memory has a specified life of 100,000 write/erase cycles. You will generally not reach this limit in your lifetime, so limit use of the "Save to EEPROM" button to only after settings have been successfully saved.</p>
<div style="clear:both"></div>

<h2 id="wand-settings">Wand Settings</h2>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Wand.jpg"/></p>
<p>Set options related specifically to the Neutrona Wand.</p>
<p><strong>Reminder:</strong> The ability to update settings or save to EEPROM will be disabled so long as the pack and wand are running. Turn off all physical toggles to set these devices to an idle state before adjusting settings. Refresh the page to get the latest values for preferences.</p>
<p>üìù <strong>Note:</strong> When changing options such as the count of LEDs in use for a device, a full power-cycle of the equipment is required after saving to EEPROM.</p>
<p>‚ö†Ô∏è <strong>NOTICE:</strong> The EEPROM memory has a specified life of 100,000 write/erase cycles. You will generally not reach this limit in your lifetime, so limit use of the "Save to EEPROM" button to only after settings have been successfully saved.</p>
<div style="clear:both"></div>

<h2 id="overheatsmoke-settings">Overheat/Smoke Settings</h2>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-Smoke.jpg"/></p>
<p>Adjust overall smoke effects (toggle on/off) and adjust per-level effects. Naturally, these options will have no effect on operation without a smoke kit installed.</p>
<p><strong>Reminder:</strong> The ability to update settings or save to EEPROM will be disabled so long as the pack and wand are running. Turn off all physical toggles to set these devices to an idle state before adjusting settings. Refresh the page to get the latest values for preferences.</p>
<p>‚ö†Ô∏è <strong>NOTICE:</strong> The EEPROM memory has a specified life of 100,000 write/erase cycles. You will generally not reach this limit in your lifetime, so limit use of the "Save to EEPROM" button to only after settings have been successfully saved.</p>
<div style="clear:both"></div>

<h2 id="external-wifi-settings">External WiFi Settings</h2>
<p><img style="float:right;padding:10px;width:300px;" src="images/WebUI-WiFi.jpg"/></p>
<p>It is possible to have your device join an existing WiFi network which may provide a more stable network connection.</p>
<ol>
<li>Access the "Change WiFi Settings" page via <a href="http://192.168.1.2/network">http://192.168.1.2/network</a> URL to make the necessary device modifications.</li>
<li>Enable the external WiFi options and supply the preferred WiFi network name (SSID) and WPA2 password for access.<ul>
<li>Optionally, you may specify an IP address, subnet mask, and gateway IP if you wish to use static values. Otherwise, the ESP32 will obtain these values automatically from your chosen network via DHCP.</li>
</ul>
</li>
<li>Save the changes, which will cause the device to reboot and attempt to connect to the network (up to 3 tries).</li>
<li>Return to the URL above to observe the IP address information. If the connection was successful, an IP address, subnet mask, and gateway IP will be shown.</li>
<li>While connected to the same WiFi network on your computer/phone/tablet, use the IP address shown to connect to your device's web interface.</li>
</ol>
<p>Use of an unsecured WiFi network is not supported and not recommended.</p>
<div style="clear:both"></div>

<h2 id="web-api">Web API</h2>
<p>The web UI is built as a single-page application, using single HTML pages for the interface elements and performing actions using an API layer. These API endpoints are available for use if you wish to build your own interface. They pass data in JSON format though the exact structure is not described here at this time.</p>
<p>The following URI's will serve the informational/maintenance pages as shown previously in this guide:</p>
<pre><code>GET / - Standard Index/Landing Page
GET /network - External WiFi Settings Page
GET /password - WiFi Password Update Page
GET /settings/attenuator = Attenuator Settings Page
GET /settings/pack - Pack Settings Page
GET /settings/wand - Wand Settings Page
GET /settings/smoke - Smoke Settings Page
GET /style.css - Common Stylesheet
GET /common.js - Common JavaScript
GET /index.js - Index Page JavaScript
</code></pre>
<p>For real-time updates, the built-in web server offers a special URI <code>/ws</code> to support <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API">WebSockets</a>. When connected to that endpoint, the ESP32 device will "push" any relevant information direct to clients in real-time. Note that this data may be in the form of a JSON object or just a plain string, so check the contents of the text data carefully before usage.</p>
<p>The following URI's are API endpoints available for managing actions within your devices. You may use these to create your own UI or control your pack/wand via other hardware devices. For instance, you can monitor the <code>/status</code> endpoint for changes, or use the volume/music endpoints to create your own jukebox interface. All data should use the <code>application/json</code> content type for sending or receiving of data. Where applicable for body data to be sent to the device a footnote describes where to find a sample of the JSON payload.</p>
<pre><code>GET /status - Obtain all current equipment status (pack + wand)
DELETE /restart - Perform a software restart of the ESP32 controller

PUT /pack/on - Turn the pack on (subject to system state)
PUT /pack/off - Turn the pack onf (subject to system state)
PUT /pack/attenuate - Cancel pack overheat via "attenuation"
PUT /pack/vent - Perform manual vent (subject to system state)
PUT /pack/lockout/start - Perform manual lockout (subject to system state)
PUT /pack/lockout/cancel - Cancel manual lockout (subject to system state)

PUT /volume/toggle - Toggle mute for all devices
PUT /volume/master/up - Increase system (master) volume
PUT /volume/master/down - Decrease system (master) volume
PUT /volume/effects/up - Increase effects volume
PUT /volume/effects/down - Decrease effects volume
PUT /volume/music/up - Increase music volume
PUT /volume/music/down - Decrease music volume

PUT /music/startstop - Toggle music playback via start/stop
PUT /music/pauseresume - Toggle music playback via resume/pause
PUT /music/next - Move to next track
PUT /music/prev - Move to previous track
PUT /music/loop - Toggle looping of current track
PUT /music/select?track=[INTEGER] - Select a specific music track (Min Value: 500)

GET /wifi/settings - Returns the current external WiFi settings
PUT /wifi/update - Save new/modified external WiFi settings
    Body: Send same JSON body as returned by /wifi/settings

GET /config/device - Obtain the current (local) device settings
PUT /config/device/save - Saves attenuator settings
    Body: Send same JSON body as returned by /config/pack

GET /config/pack - Obtain the current pack equipment settings
PUT /config/pack/save - Saves pack settings for evaluation
    Body: Send same JSON body as returned by /config/pack

GET /config/wand - Obtain the current wand equipment settings
PUT /config/wand/save - Saves wand settings for evaluation
    Body: Send same JSON body as returned by /config/wand

GET /config/smoke - Obtain the current pack/wand smoke settings
PUT /config/smoke/save - Saves smoke settings for evaluation
    Body: Send same JSON body as returned by /config/smoke

WARNING: Only call these API's as necessary as these cause write cycles to the EEPROM!

PUT /eeprom/all - Stores all current preferences to pack/wand EEPROMs (eg. smoke settings)
PUT /eeprom/pack - Stores current pack preferences to pack EEPROM
PUT /eeprom/wand - Stores current wand preferences to wand EEPROM
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>